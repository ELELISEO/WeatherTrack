<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <title>Agregar Tarea</title>
</head>

<body>
  <section class="h-screen bg-[#FFFFFF]">
    <div class="h-full w-full flex items-center justify-around">
      
      <!-- FORMULARIO -->
      <form id="formTarea" action="{{ url_for('guardar_tarea') }}" method="POST"
        class="w-full h-[35rem] flex flex-col justify-around items-start p-4 pl-8">

        <h3 class="text-[#253342] text-6xl font-bold w-24 text-left">AGREGAR TAREA</h3>

        <div class="flex justify-around flex-col w-full h-3/6">

          <!-- ACTIVIDAD -->
          <div class="flex flex-col h-1/3">
            <label for="act" class="text-gray-600 font-semibold px-4">Actividad:</label>
            <select id="act" name="act" class="w-full bg-gray-200 h-12 rounded-3xl px-6 outline-none pr-6">
              <option value="" disabled selected hidden>Selecciona actividad</option>
              <option value="caminar">Caminar</option>
              <option value="trotar">Trotar</option>
              <option value="correr">Correr</option>
              <option value="gimnasio">Gimnasio</option>
            </select>
          </div>

          <!-- DESCRIPCIÓN -->
          <div class="flex flex-col h-1/3">
            <label class="text-gray-600 font-semibold px-4">Descripción:</label>
            <input class="w-full h-12 bg-gray-200 rounded-3xl px-6 outline-none" name="descripcion"
              placeholder="Agregar descripción (opcional)" />
          </div>

          <!-- FECHA Y HORA -->
          <div class="flex w-full justify-between items-center h-1/3">
            <div>
              <label class="text-gray-600 font-semibold px-4">Fecha</label>
              <input type="date" class="w-80 h-12 bg-gray-200 rounded-3xl px-4 outline-none" name="fecha" />
            </div>
            <div>
              <label class="text-gray-600 font-semibold px-4">Hora</label>
              <input type="time" class="w-80 h-12 bg-gray-200 rounded-3xl px-4 outline-none" name="hora" />
            </div>
          </div>
        </div>
        
        
      </form>

      <!-- LADO DERECHO -->
      <div class="w-full h-full flex justify-around flex-col items-end p-4 pr-8">
        <div class="w-96 h-1/6 flex justify-end items-center text-[#253342] text-6xl font-bold">
          <span>{{ clima.temperatura }}°C</span>
          <img src="http://openweathermap.org/img/wn/{{ clima.icono }}@2x.png" alt="Clima" class="ml-4">
        </div>
        <div class="h-2/4 w-full justify-center items-center flex">
          <div id="mapa-clima" class="h-full w-full rounded-1xl overflow-hidden"></div>
        </div>
       <!-- BOTÓN ENVIAR -->
        <div class="h-1/6 w-56 justify-between items-end flex self-end">
          <button onclick="window.location.href='tareas'" class="rounded-full bg-[#253342] h-24 w-24">
            <i class="fa-solid fa-list-ul text-white text-3xl"></i>
        
          <button form="formTarea" type="submit" class="rounded-full bg-[#253342] h-24 w-24">
            <i class="fa-solid fa-plus text-white text-3xl"></i>
          </button>
          
      </div>

    </div>
  </section>
</body>

</html>
<!-- Leaflet CSS y JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
  // Crear mapa dentro del div "mapa-clima"
  var map = L.map('mapa-clima').setView([20.59, -100.39], 6); // Coordenadas de Querétaro

  // Mapa base OpenStreetMap
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: 'Map data © OpenStreetMap contributors'
  }).addTo(map);

  // Capa de temperatura de OpenWeather
  L.tileLayer('https://tile.openweathermap.org/map/temp_new/{z}/{x}/{y}.png?appid=3b42af71dd4826a84dee8cfb65d4fe82', {
      opacity: 5,
      attribution: 'Map data © OpenWeather'
  }).addTo(map);
</script>
